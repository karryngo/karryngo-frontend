<app-nav-bar></app-nav-bar>

<div class="imag">
    <div class="container" style="margin-top: 70px;">
        <div class="row">
            <div class="col-md-8 bg-white my-4 card"
                style="margin-right: auto; margin-left: auto; border-radius: 15px; color: white; background-color: rgba(10, 10, 10, 0.82) !important;">
                <div class="p-4"
                    style="margin-bottom: 20px; margin-top: 20px; text-align: center; border-bottom: 1px solid gray;">
                    <h3 style="font-size:20px;" class="text-white"><b>{{'signup.registration' | translate}}</b></h3>
                </div>

                <div class="row p-1" style="font-size:15px;">
                    <div class="col-md-12 card-body">
                        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                            <div class="form-group row mx-2">
                                <div class="mb-4 col-md-6">
                                    <label for="field_language">{{'signup.registration_language' | translate}}</label>
                                    <select placeholder="Country" class="form-control"  formControlName="field_language"  [ngClass]="{ 'is-invalid': submitted && f.field_country.errors }">
                                        <option value="" selected disabled></option>
                                        <option style="font-weight: bold;" *ngFor="let language of languages" [ngValue]="language">{{ language }}</option>
                                    </select>
                                    <div *ngIf="submitted && f.field_language.errors" class="invalid-feedback text-danger" [ngClass]="{ 'is-invalid': submitted && f.field_language.errors }">
                                        <div *ngIf="f.field_language.errors.required">{{'signup.registration_field_required' | translate}}</div>
                                    </div>
                                </div>
                                <div class="mb-4 col-md-6">
                                    <label for="sex">{{'signup.registration_sex' | translate}}</label>
                                    <select placeholder="Country" class="form-control"  formControlName="sex"  [ngClass]="{ 'is-invalid': submitted && f.field_country.errors }">
                                        <option value="" selected disabled></option>
                                        <option style="font-weight: bold;" *ngFor="let sex of sexes" [ngValue]="sex">{{ sex }}</option>
                                    </select>
                                    <div *ngIf="submitted && f.sex.errors" class="invalid-feedback text-danger" [ngClass]="{ 'is-invalid': submitted && f.sex.errors }">
                                        <div *ngIf="f.sex.errors.required">{{'signup.registration_field_required' | translate}}</div>
                                    </div>
                                </div>
                                <div class="mb-4 col-md-6">
                                    <label for="field_firstname">{{'signup.registration_firstname' | translate}}</label>
                                    <input type="text"
                                        id="field_firstname"
                                        formControlName="field_firstname"
                                        placeholder="{{'signup.registration_firstname_placeholder' | translate}}" class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f.field_firstname.errors }">
                                    <div *ngIf="submitted && f.field_firstname.errors"
                                        class="invalid-feedback text-danger">
                                        <div *ngIf="f.field_firstname.errors.required">{{'signup.registration_field_required' | translate}}</div>
                                    </div>
                                </div>
                                <div class="mb-4 col-md-6">
                                    <label for="field_surname">{{'signup.registration_surname' | translate}}</label>
                                    <input type="text"
                                        id="field_surname"
                                        formControlName="field_surname"
                                        placeholder="{{'signup.registration_surname_placeholder' | translate}}"
                                        class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f.field_surname.errors }">
                                    <div *ngIf="submitted && f.field_surname.errors"
                                        class="invalid-feedback text-danger">
                                        <div *ngIf="f.field_surname.errors.required">{{'signup.registration_field_required' | translate}}</div>
                                    </div>
                                </div>
                                <!-- <div class="mb-4 col-md-6">
                                    <label for="field_username">User name</label>
                                    <input type="text"
                                        id="field_username"
                                        formControlName="field_username"
                                        placeholder="Enter you User name"
                                        class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f.field_username.errors }">
                                    <div *ngIf="submitted && f.field_username.errors"
                                        class="invalid-feedback text-danger">
                                        <div *ngIf="f.field_username.errors.required">User name is required</div>
                                    </div>
                                </div> -->
                                <div class="mb-4 col-md-12">
                                    <label for="field_email">{{'signup.registration_email' | translate}}</label>
                                    <input type="text"
                                        id="field_email"
                                        formControlName="field_email"
                                        placeholder="{{'signup.registration_email_placeholder' | translate}}"
                                        class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f.field_email.errors }">
                                    <div *ngIf="submitted && f.field_email.errors" class="invalid-feedback text-danger"
                                    [ngClass]="{ 'is-invalid': submitted && f.field_email.errors }">
                                        <div *ngIf="f.field_email.errors.required">{{'signup.registration_field_required' | translate}}</div>
                                    </div>
                                </div>
                                <div class="mb-4 col-md-6">
                                    <label for="field_password">{{'signup.registration_password' | translate}}</label>
                                    <input type="password"
                                        id="field_password"
                                        formControlName="field_password"
                                        placeholder="{{'signup.registration_password_placeholder' | translate}}"
                                        class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f.field_password.errors }">
                                    <div *ngIf="submitted && f.field_password.errors"
                                        class="invalid-feedback text-danger">
                                        <div *ngIf="f.field_password.errors.required">{{'login.password_required' | translate}}</div>
                                    </div>
                                </div>
                                <div class="mb-4 col-md-6">
                                    <label for="field_password2">{{'signup.registration_confirm_password' | translate}}</label>
                                    <input type="password"
                                        id="field_password2"
                                        formControlName="field_password2"
                                        placeholder="{{'signup.registration_confirm_password_placeholder' | translate}}"
                                        class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f.field_password2.errors }">
                                    <div *ngIf="submitted && f.field_password2.errors"
                                        class="invalid-feedback text-danger">
                                        <div *ngIf="f.field_password2.errors.required">{{'signup.registration_confirm_required' | translate}}</div>
                                        <div *ngIf="f.field_password2.errors.mustMatch">{{'signup.registration_password_nomatch' | translate}}</div>
                                    </div>
                                </div>
                                <div class="form-row col-md-12">
                                    <div class="col-md-6 pr-2" *ngIf="countries.length!=0">
                                        <label for="field_country">{{'signup.registration_country' | translate}}</label>
                                        <select placeholder="Country" class="form-control"  formControlName="field_country" (change)="get_cities($event.target.value)" [ngClass]="{ 'is-invalid': submitted && f.field_country.errors }">
                                            <option value="" selected disabled></option>
                                            <option style="font-weight: bold;" *ngFor="let country of countries" [ngValue]="country">{{ country.name }}</option>
                                        </select>
                                        <!-- <small>What country does your package go from? </small> -->
                                        <div *ngIf="submitted && f.field_country.errors" class="invalid-feedback text-danger"> 
                                            <div *ngIf="f.field_country.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_required_field' | translate }}</div>
                                        </div>
                                    </div>
                                    <!-- <div class="form-group col-md-6">
                                        
                                        <label for="field_country">{{'signup.registration_country' | translate}}</label>
                                        <select 
                                            id="field_country"
                                            formControlName="field_country"
                                            class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && f.field_country.errors }">
                                            <option value="Cameroon" selected>Cameroon</option>
                                            <option value="South Africa">South Africa</option>
                                            <option value="Gabon">Gabon</option>
                                            <option value="Nigeria">Nigeria</option>
                                        </select>
                                        <div *ngIf="submitted && f.field_country.errors"
                                            class="invalid-feedback text-danger">
                                            <div *ngIf="f.field_country.errors.required">{{'signup.registration_country_required' | translate}}</div>
                                        </div>
                                    </div> -->
                                    <div class="col-md-6 pl-4" >
                                        <app-search-location [country_code]="country_code"  label="{{'signup.registration_city' | translate}}" placeholder="" #fromZone></app-search-location>
                                    </div>
                                    <!-- <div class="form-group col-md-6">
                                        <label for="field_city">{{'signup.registration_city' | translate}}</label>
                                        <select
                                            id="field_city"
                                            formControlName="field_city"
                                            class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && f.field_city.errors }">
                                            <option value="Pretoria">Pretoria</option>
                                            <option value="Gauteng">Gauteng</option>
                                            <option value="Johannesburg">Johannesburg</option>
                                            <option value="Durban">Durban</option>
                                            <option value="Port Elisabeth">Port Elisabeth</option>
                                            <option value="Pietersburg">Pietersburg</option>
                                            <option value="Douala" selected>Douala</option>
                                            <option value="Yaounde">Yaounde</option>
                                            <option value="Bafoussam">Bafoussam</option>
                                            <option value="Kribi">Kribi</option>
                                            <option value="Limbe">Limbe</option>
                                            <option value="Port Gentil">Port Gentil</option>
                                            <option value="Libreville">Libreville</option>
                                            <option value="Franceville">Franceville</option>
                                            <option value="Oyem">Oyem</option>
                                            <option value="Lagos">Lagos</option>
                                            <option value="Abuja">Abuja</option>
                                            <option value="Kano">Kano</option>
                                            <option value="Sokoto">Sokoto</option>
                                            <option value="Onitsha">Onitsha</option>
                                            </select>
                                            <div *ngIf="submitted && f.field_city.errors"
                                                class="invalid-feedback text-danger">
                                                <div *ngIf="f.field_city.errors.required">{{'signup.registration_city_required' | translate}}</div>
                                            </div>
                                    </div> -->
                                    
                                </div>
                                <div class="form-row col-md-12 mt-4">
                                    <div class="form-group col-md-12">
                                        <label for="field_accontType">{{'signup.registration_phone' | translate}} <small><b>({{'signup.registration_phone_wa' | translate}})</b> </small> </label> 
                                        <!-- <input type="tel"
                                            id="field_phone"
                                            formControlName="field_phone"
                                            placeholder="Enter you Phone Number"
                                            class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && f.field_phone.errors }"> -->

                                            <ngx-intl-tel-input [cssClass]="'custom'" [preferredCountries]="preferredCountries"
                                                [enableAutoCountrySelect]="true" [enablePlaceholder]="true" [searchCountryFlag]="true"
                                                [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]" [selectFirstCountry]="false"
                                                [selectedCountryISO]="CountryISO.CentralAfricanRepublic" [maxLength]="15"
                                                [phoneValidation]="true" [separateDialCode]="separateDialCode"
                                                [numberFormat]="PhoneNumberFormat.National" 
                                                name="cell_phone_number" 
                                                formControlName="field_phone">
                                            </ngx-intl-tel-input> 

                                            <div *ngIf="submitted && f.field_phone.errors"
                                                class=" text-danger" style="margin-top: -20px;">
                                                <div *ngIf="f.field_phone.errors.required">{{'signup.registration_phone_required' | translate}}</div>
                                                <div *ngIf="f.field_phone.errors.validatePhoneNumber && f.field_phone.errors.invalidCarPhoneNumber">{{'signup.registration_phone_invalid' | translate}}</div>
                                            </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row mx-2">
                                <div class="mb-4 col-md-12">
                                    <span class="pull-left" style="margin-top: -15px;">
                                        <!-- <input id="user_agree" formControlName="user_agree" class="checkbox-custom"
                                            name="checkbox-1" type="checkbox"> -->
                                        <label for="user_agree" class="checkbox-custom-label"> 
                                            {{'signup.registration_read' | translate}}  <a routerLink="/terms-and-conditions">{{'footer.terms' | translate}}</a>  {{'signup.registration_and' | translate}}  <a routerLink="/privacy-policy">{{'footer.policies' | translate}}</a>.</label><br>
                                            <label class="switch switch-label switch-pill switch-warning">
                                              <input type="checkbox"
                                                class="switch-input"
                                                id="user_agree"
                                                name="checkbox-1"
                                                [ngClass]="{ 'is-invalid': submitted && f.user_agree.errors }"
                                                formControlName="user_agree"
                                                checked>
                                              <span class="switch-slider" data-checked="&#x2713;" data-unchecked="&#x2715;"></span>
                                            </label>
                                    </span>

                                    <div *ngIf="submitted && f.user_agree.errors" class="invalid-feedback text-danger">
                                        <div *ngIf="f.user_agree.errors.required">{{'signup.registration_agree_required' | translate}}</div>
                                    </div>
                                </div>
                            </div>
                            <app-progress-indeterminate *ngIf="waitingRegistration"></app-progress-indeterminate>
                            <span class="pull-right">
                                <button type="submit" *ngIf="!waitingRegistration" class="Register registermodal-submit btn btn-warning"
                                    value="Register" (click)="onSubmit()">{{'signup.registration_button' | translate}}</button>
                            </span>
                            <div *ngIf="!waitingRegistration && submitted" class="row red">
                                <span class="col-12 text-center">{{'signup.registration_attention' | translate}}</span>
                            </div>
                            
                        </form>
                    </div>

                </div>
                
                <p style="color: white; font-size:15px;">{{'signup.elready_regstered' | translate}} <a href="javascript:void(0)"
                        (click)="navigateToLogin()"> {{'login.title' | translate}}.</a></p>
            </div>
        </div>
    </div>
</div>

<app-front-footer></app-front-footer>