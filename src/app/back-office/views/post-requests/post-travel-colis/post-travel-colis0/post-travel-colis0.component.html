<form [formGroup]="packageForm" (ngSubmit)="submit()" class="text-center p-1 form-horizontal">

<div *ngIf="!submitted">
    <!-- Package Details--> 
    <p class="mx-4 text-left title-form">{{'post_requests.post_request_colis.post_request_colis0.form_title' | translate }}</p>
    <!-- row-item-->
    <br>
    <div class="card-body">
    <div class="form-group row">
        <div class="col-md-6"> 
            <!-- <label for="exampleFormControlSelect1">{{'post_requests.post_request_colis.post_request_colis0.form_select_placeholder' | translate }}</label> -->
            <select class="form-control" formControlName="field_typeof" [ngClass]="{ 'is-invalid': submitted && f.field_typeof.errors }">
                <option value="" selected disabled>{{ service_travel_colis["KARRYNGO TRAVELER"][0] }}</option>
                <!-- <option value="food">{{'post_requests.post_request_colis.post_request_colis0.form_select_option2' | translate }}</option>
                <option value="courier">{{'post_requests.post_request_colis.post_request_colis0.form_select_option3' | translate }}</option>
                <option value="parcel">{{'post_requests.post_request_colis.post_request_colis0.form_select_option4' | translate }}</option> -->
                <option style="font-weight: bold;" *ngFor="let service of service_travel_colis['KARRYNGO TRAVELER'] | slice:1" [value]="service">{{ service }}</option>
            </select>
            <div *ngIf="submitted && f.field_typeof.errors" class="invalid-feedback text-danger"> 
                <div *ngIf="f.field_typeof.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_required_field' | translate }}</div>
            </div>
        </div>
        <div class="col-md-6" *ngIf="countries.length!=0">
            <select placeholder="Country" class="form-control" formControlName="field_country" [ngClass]="{ 'is-invalid': submitted && f.field_country.errors }">
                <option value="" selected disabled>{{ countries[0].name }}</option>
                <option style="font-weight: bold;" *ngFor="let country of countries" [ngValue]="country">{{ country.name }}</option>
            </select>
            <small>{{'post_requests.post_request_colis.post_request_colis0.form_select_country' | translate }}</small>
            <div *ngIf="submitted && f.field_country.errors" class="invalid-feedback text-danger"> 
                <div *ngIf="f.field_country.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_required_field' | translate }}</div>
            </div>
        </div> 
    </div>
    <div class="form-row mb-2">
        <div class="col">
        <app-search-location label="{{'post_requests.post_request_colis.post_request_colis0.form_depart' | translate }}" placeholder="" #fromZone></app-search-location>
        </div>
        <div class="col">
        <app-search-location label="{{'post_requests.post_request_colis.post_request_colis0.form_arrival' | translate }}" placeholder="" #toZone></app-search-location>
        </div>
    </div>

    <!-- Address block -->
    <div class="form-group row mb-2">
        <div class="col-md-6">
        <input type="text" formControlName="departure_address" class="form-control" placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_departure_address' | translate }}"
            [ngClass]="{ 'is-invalid': submitted && f.departure_address.errors }">
        </div>
        <div class="col-md-6">
        <input type="text" formControlName="arrival_address" class="form-control" placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_arrival_address' | translate }}"
            [ngClass]="{ 'is-invalid': submitted && f.arrival_address.errors }">
        </div>
    </div>
    <!-- end of block -->

    <!-- row-item-->
    
    <div class="form-group row">
        <!-- <div class="col-md-4">
        <select id="field_typeof" formControlName="field_typeof" class="form-control">
            <option value="documents">Documents</option>
            <option value="smallPackage" selected>Small Parcel</option>
            <option value="bigPackage">Big Parcel</option>
        </select>
        <p class="title-form sub-indication text-left">Type</p>
        </div> -->
        
    </div>
    <!-- <div class="form-group row">
        <div class="col-md-5">
        <select id="field_vehicleType" formControlName="field_vehicleType" class="form-control">
            <option value="bike">Bike</option>
            <option value="car">car</option>
            <option value="truck">Truck</option>
        </select>
        </div>
    </div> -->
    <div class="bloc-colis mb-4">
        <div class="alert alert-info">
        {{'post_requests.post_request_colis.post_request_colis0.form_note' | translate }}
        </div>

        <div class="form-group row">
        <div class="col-md-3">
            <input type="number" id="weightPackage" min="0" formControlName="field_weightPackage" class="form-control"
            placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_weight_placeholder' | translate }}" [ngClass]="{ 'is-invalid': submitted && f.field_weightPackage.errors }">
            <p class="title-form sub-indication text-left">{{'post_requests.post_request_colis.post_request_colis0.form_weight' | translate }}</p>
            <div *ngIf="submitted && f.field_weightPackage.errors" class="invalid-feedback text-danger">
            <div *ngIf="f.field_weightPackage.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_Positive_number_required' | translate }}</div> 
            </div>
        </div>
        <div class="col-md-3">
            <input type="number" id="field_heightPackages" min="0" formControlName="field_heightPackages" class="form-control"
            placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_height_placeholder' | translate }}" [ngClass]="{ 'is-invalid': submitted && f.field_heightPackages.errors }" />
            <p class="title-form sub-indication text-left">{{'post_requests.post_request_colis.post_request_colis0.form_height' | translate }}</p>
            <div *ngIf="submitted && f.field_heightPackages.errors" class="invalid-feedback text-danger">
            <div *ngIf="f.field_heightPackages.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_Positive_number_required' | translate }}</div>
            </div>
        </div>
        <div class="col-md-3">
            <input type="number" id="field_widhtPackage" min="0" formControlName="field_widhtPackage" class="form-control"
            placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_width_placeholder' | translate }}" [ngClass]="{ 'is-invalid': submitted && f.field_widhtPackage.errors }" />
            <p class="title-form sub-indication text-left">{{'post_requests.post_request_colis.post_request_colis0.form_width' | translate }}</p>
            <div *ngIf="submitted && f.field_widhtPackage.errors" class="invalid-feedback text-danger">
            <div *ngIf="f.field_widhtPackage.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_Positive_number_required' | translate }}</div>
            </div>
        </div>
        <div class="col-md-3">
            <input type="number" id="field_lengthPackage" min="0" formControlName="field_lengthPackage" class="form-control"
            placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_length_placeholder' | translate }}" [ngClass]="{ 'is-invalid': submitted && f.field_lengthPackage.errors }">
            <p class="title-form sub-indication text-left">{{'post_requests.post_request_colis.post_request_colis0.form_length' | translate }}</p>
            <div *ngIf="submitted && f.field_lengthPackage.errors" class="invalid-feedback text-danger">
            <div *ngIf="f.field_lengthPackage.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_Positive_number_required' | translate }}</div>
            </div>
        </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-md-6">
        <input type="date" id="field_delayDate" min="{{current_date}}" formControlName="field_delayDate" class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.field_delayDate.errors }">
        <div *ngIf="submitted && f.field_delayDate.errors" class="invalid-feedback text-danger">
            <div *ngIf="f.field_delayDate.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_required_field' | translate }}</div>
        </div>
        <p class="title-form sub-indication text-left">{{'post_requests.post_request_colis.post_request_colis0.form_collection_date' | translate }}</p>

        <!-- Price -->
        <input type="number" id="field_price" formControlName="field_price" min="0" class="form-control" placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_price' | translate }}"
            [ngClass]="{ 'is-invalid': submitted && f.field_price.errors }">
        <div *ngIf="submitted && f.field_price.errors" class="invalid-feedback text-danger">
            <div *ngIf="f.field_price.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_required_field' | translate }}</div>
        </div>
        <p class="title-form sub-indication text-left">{{'post_requests.post_request_colis.post_request_colis0.form_shipping_costs' | translate }}</p>
        </div>
        <div class="col-md-6">
        <div class="form-check">
            <input type="checkbox" id="isWeak" formControlName="field_isWeak" class="form-check-input">
            <label for="isWeak">{{'post_requests.post_request_colis.post_request_colis0.form_is_fragile' | translate }}</label>
        </div>
        <div class="form-check">
            <input type="checkbox" id="isUrgent" formControlName="field_isUrgent" class="form-check-input">
            <label for="isUrgent">{{'post_requests.post_request_colis.post_request_colis0.form_is_urgent' | translate }}</label>
        </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-md-6">
            <label for="">{{'post_requests.post_request_colis.post_request_colis0.form_departure_place' | translate }}</label>
            <app-map (get_coord)="get_coord($event)" ></app-map>
            <!-- <app-map (newImageEvent)="get_coord($event)" label="Attach documents (vehicle documentation, Number plate, Registration ID)"></app-map> -->
        </div>
        <div class="col-md-6">
            <label for="">{{'post_requests.post_request_colis.post_request_colis0.form_arrival_place' | translate }}</label>
            <app-map (get_coord)="get_arr_coord($event)" ></app-map>
            <!-- <input #arr_mapSearchField class="my-map-search-field" type="text" placeholder="search for a location"/>
                <google-map (mapClick)="arr_click($event)"
                    height="500px"
                    width="100%"
                    [zoom]="zoom"
                    [center]="arr_center"
                    [options]="arr_options">

                    <map-marker *ngIf="arr_marker"
                        [position]="arr_marker.position"
                        [label]="arr_marker.label"
                        [title]="arr_marker.title"
                        [options]="arr_marker.options"
                        (mapClick)="arr_openInfo(markerElem)"
                    ></map-marker>
                    <map-info-window>{{ arr_infoContent }}</map-info-window>
                </google-map> -->
        </div>
    </div>
    <!-- row-item-->
    <div class="alert alert-warning">
        {{'post_requests.post_request_colis.post_request_colis0.form_note' | translate }}
    </div>
    </div>
    <!-- package image-->
    <!-- <app-input-file-upload-list accept="image/png, image/jpeg" #uploadFile label="Parcel pictures">
    </app-input-file-upload-list> -->

    <!-- row-item-->
    <div class="form-group mb-4 row">
        <div class="col-md-12">
            <label for="descriptionPackage"> {{'post_requests.post_request_colis.post_request_colis0.form_description' | translate }}</label>
            <textarea class="form-control" id="field_descriptionPackage" formControlName="field_descriptionPackage" rows="3"
            placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_description_placeholder' | translate }}"></textarea>
        </div>
    </div>


    <div class="form-group row">
        <div class="col-md-12"><hr style="border: 1px gray solid;"></div>
        <div class="col-md-12">
            <h4>About the Receipient</h4>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-6">
            <input type="text" id="field_recipientName" formControlName="field_recipientName" class="form-control"
                placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_recipient_name' | translate }}" [ngClass]="{ 'is-invalid': submitted && f.field_recipientName.errors }">
            <div *ngIf="submitted && f.field_recipientName.errors" class="invalid-feedback text-danger">
                <div *ngIf="f.field_recipientName.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_required_field' | translate }}</div>
            </div>
            <!-- <p class="title-form sub-indication text-left"> {{'post_requests.post_request_colis.post_request_colis0.form_leave_blank' | translate }}</p> -->
        </div>
        <div class="col-md-6">
            <input type="text" id="field_recipientContact" formControlName="field_recipientContact" class="form-control"
                placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_contact' | translate }}" [ngClass]="{ 'is-invalid': submitted && f.field_recipientContact.errors }">
            <div *ngIf="submitted && f.field_recipientContact.errors" class="invalid-feedback text-danger">
                <div *ngIf="f.field_recipientContact.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_required_field' | translate }}</div>
            </div>
            <!-- <p class="title-form sub-indication text-left"> {{'post_requests.post_request_colis.post_request_colis0.form_leave_blank' | translate }}</p> -->
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-6">
            <input type="email" id="field_recipientEmail" formControlName="field_recipientEmail" class="form-control"
                placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_recipient_email' | translate }}" [ngClass]="{ 'is-invalid': submitted && f.field_recipientEmail.errors }">
            <div *ngIf="submitted && f.field_recipientEmail.errors" class="invalid-feedback text-danger">
                <div *ngIf="f.field_recipientEmail.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_required_field' | translate }}</div>
            </div>
            <!-- <p class="title-form sub-indication text-left"> {{'post_requests.post_request_colis.post_request_colis0.form_leave_blank' | translate }}</p> -->
        </div>
        <div class="col-md-6">
            <input type="text" id="field_recipientAddress" formControlName="field_recipientAddress" class="form-control"
                placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_recipient_address' | translate }}" [ngClass]="{ 'is-invalid': submitted && f.field_recipientAddress.errors }">
            <div *ngIf="submitted && f.field_recipientAddress.errors" class="invalid-feedback text-danger">
                <div *ngIf="f.field_recipientAddress.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_required_field' | translate }}</div>
            </div>
            <!-- <p class="title-form sub-indication text-left"> {{'post_requests.post_request_colis.post_request_colis0.form_leave_blank' | translate }}</p> -->
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-12">
            <input type="text" id="field_code" formControlName="field_code" class="form-control"
                placeholder="Enter the secret code" [ngClass]="{ 'is-invalid': submitted && f.field_code.errors }">
            <div *ngIf="submitted && f.field_code.errors" class="invalid-feedback text-danger">
                <div *ngIf="f.field_code.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_required_field' | translate }}</div>
            </div>
        </div>
    </div>
    
    <div class="form-group row">
        <div class="col-md-12"><hr style="border: 1px gray solid;"></div>
        <div class="col-md-12">
            <h4>{{ 'post_requests.post_request_colis.post_request_colis0.form_attachment' | translate }} </h4>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-12">
            <app-input-file-upload-list (newImageEvent)="fileUpload($event)" #compagnyUploadFile label="Attach documents (vehicle documentation, Number plate, Registration ID)">
                </app-input-file-upload-list>
        </div>    
                
    </div>
          
    <!-- <div class="form-group row">
        <div class="col-md-6">
            <input type="text" id="field_recipientPhoneNumber" formControlName="field_recipientPhoneNumber" class="form-control"
                placeholder="{{'post_requests.post_request_colis.post_request_colis0.form_contact' | translate }}" [ngClass]="{ 'is-invalid': submitted && f.field_recipientPhoneNumber.errors }">
            <div *ngIf="submitted && f.field_recipientPhoneNumber.errors" class="invalid-feedback text-danger">
                <div *ngIf="f.field_recipientPhoneNumber.errors.required">{{'post_requests.post_request_colis.post_request_colis0.form_required_field' | translate }}</div>
            </div>
            <p class="title-form sub-indication text-left"> {{'post_requests.post_request_colis.post_request_colis0.form_leave_blank' | translate }}</p>
        </div>
    </div> -->
    <!-- row-footer-->
    <div class="footer-registration text-right">
        <button *ngIf="visible" type="submit" class="btn next-button">
            {{'post_requests.post_request_colis.post_request_colis0.form_next' | translate }}
        </button>
    </div>
</div>
<app-progress-indeterminate *ngIf="submitted"></app-progress-indeterminate>
</form>